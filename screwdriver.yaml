cache:
    pipeline: [ ~/.npm ]
    event: [.]

jobs:
  main:
    annotations:
      beta.screwdriver.cd/timeout: 5 #minutes
    image: node:8
    requires: [~pr, ~commit]
    steps:
      - ls: ls -l
      - ls-npm: ls -l ~/.npm
      - install: npm install --verbose
      - touch: date >> date.txt

  next:
    image: node:8
    requires: main
    steps:
      - ls: ls -l
      - cat: cat date.txt
